for i in range(len(s)):
    if s[i] == s[rev_index]:
        rev_index -= 1
    else:
        dp[partition(s[:i+1])] = True
        rev_index = len(s) - 1
