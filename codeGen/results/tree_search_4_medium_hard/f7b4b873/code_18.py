def dp(i, j, s):
    if i == j:  # special case: single character or empty string
        return [[s]]
    ...
