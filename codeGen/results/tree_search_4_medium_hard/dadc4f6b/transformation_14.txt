===BEGIN PLAN===
For each query, calculate the total brightness for the given rectangular view and store these values in a memoized table. This allows you to avoid recalculating the same value multiple times.

The state is a tuple containing the star's initial brightness s_i, its position (x, y), and the current time t: (s_i, x, y, t).

The state transitions are obtained by incrementing time and updating brightness based on c.

To avoid recalculating the same query, use a set to keep track of previously computed views.

Iterate through each star's initial brightness s_i and position (x, y) for n times. For each star:

    Calculate the total brightness for the given rectangular view at current time t.
    Update the memoized table with the new value.

When processing a query:
    
    Check if the current view has been computed before in the memoized table. If yes, return the stored value.
    Otherwise, calculate the total brightness for the given rectangular view and store it in the memoized table.

===END PLAN===
