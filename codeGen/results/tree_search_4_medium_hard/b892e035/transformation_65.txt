dp[n][seen] = {
    (n == 1 and seen == {num}) ? (isDistinct(num) ? 1 : 0)
    : min(
        dp[i-1][newSeen ∪ {a}] + p * q,
        dp[i-1][newSeen ∪ {b}] + (1-p) * q
    )
}
