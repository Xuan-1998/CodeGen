dp[(0, 0)] = 1 if grid[0][0] == '.'
for i from 0 to N-1:
    for j from 0 to N-1:
        dp[(i, j)] = 1 if grid[i][j] == '.' and all cells to the East have a mirror that can be placed without any rocks blocking the line of sight
