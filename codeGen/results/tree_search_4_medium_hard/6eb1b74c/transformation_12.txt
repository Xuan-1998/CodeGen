dp[i] = min(dp[i-1], dp[last_used_index] + 1)
