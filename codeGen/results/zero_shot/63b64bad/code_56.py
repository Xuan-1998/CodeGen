n = 4
a = [2, 3, 1]
print(simulate_program(a))  # Output: 7

n = 5
a = [1, 2, 3, 4, 5]
print(simulate_program(a))  # Output: -1 (program doesn't terminate)
