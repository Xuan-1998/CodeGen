n = int(input())

min_edges_to_reverse(capital_city)

capital_cities = find_optimal_capital_city()

print(min_edges)
print(capital_cities)
