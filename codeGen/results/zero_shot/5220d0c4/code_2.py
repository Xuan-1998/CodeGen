python
To solve this problem, let's break it down into smaller steps:

1. First, we need to find the minimum prime divisor for each number in the array. This can be done using the Sieve of Eratosthenes algorithm.

2. Next, we'll create a function that calculates the beauty of an array based on the minimum prime divisors and whether they are good or bad primes. 

3. We then need to find the maximum beauty of the array by iterating through all possible subsets of the array and calculating their beauty. This can be done using recursion or dynamic programming.

4. Finally, we'll print out the maximum beauty as our answer.

Here's a Python code that implements these steps:

