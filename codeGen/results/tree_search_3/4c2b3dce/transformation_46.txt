===BEGIN PLAN===
Can we use a sliding window approach to check if the string contains both 'AB' and 'BA' without any overlap?

View the dynamic programming problem as finding the maximum length subsequence that satisfies the condition.

Consider using a variable to keep track of the number of times you've seen 'A' or 'B' separately, and only increment this count when you see a character that hasn't been seen before.

===END PLAN===
