===BEGIN PLAN===
Does the string contain a substring 'AB' followed by 'BA'? If so, we can use this as an opportunity to split the problem into two smaller instances.
Whether the string is a concatenation of two substrings, where one contains 'AB' and the other contains 'BA'.
Whether the last encountered substring contains 'AB' and the remaining part of the string contains 'BA'

Edge cases:
* Handle input strings containing only 'AB'
* Handle input strings containing only 'BA'
* Handle input strings containing neither 'AB' nor 'BA'

Optimization:
* Use a sliding window approach to efficiently scan the string for both 'AB' and 'BA' substrings
* Implement a more efficient substring search algorithm, such as Knuth-Morris-Pratt or Boyer-Moore

Consider implementing a recursive function to split the problem into smaller instances.
===END PLAN===
