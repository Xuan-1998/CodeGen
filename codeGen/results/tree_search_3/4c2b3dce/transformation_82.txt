===BEGIN PLAN===
Can we use a sliding window approach to check if the string contains both 'AB' and 'BA' without any overlap?

Maintain a dictionary where keys are character combinations and values are boolean indicating whether the combination has been seen before. Then, iterate through the string and update the dictionary as you go. When you see both 'AB' and 'BA', check if the current state matches the required pattern.

Dynamically build a 2D table where each cell represents whether the corresponding substring has been seen before, then use this table to determine if both substrings are present

===END PLAN===
