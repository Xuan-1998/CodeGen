Tree traversal and dynamic programming to count valid permutations
unweighted undirected tree
